---
layout: post
---
a page about nginx
本文主要分3个部分介绍nginx，适合nginx基础入门

## location

语法
官方文档: Check out the [Jekyll docs][jekyll-docs] for more info

`@name`主要用于服务器内部转发，不作主要讲解。
按照匹配方式，分为两类匹配：
字符串匹配和正则匹配。

多条location如何匹配？

按照官网的描述，
location匹配请求，nginx首先检查前缀字符串的location。
匹配到的最长的location被选中和记住。
然后检查正则，正则搜索在第一次匹配时停止，并使用相应位置。如果找不到匹配项，则使用前面记住的前缀匹配。
如果最长匹配location有^~，则不检查正则
=找到完全匹配，终止搜索。

```conf
location = / {
  # 精确匹配 /，匹配到就停止
  [ configuration A ]
}

location  / {
  # 普通字符串匹配
  # 因为所有的地址都以 / 开头，所以这条规则将匹配到所有请求
  # 但是不一定应用此匹配
  [ configuration B ] 
}

location  /documents/ {
  # 普通字符串匹配
  # 匹配以/documents/开头的地址
  # 但是不一定应用此匹配
  [ configuration C ] 
}

location /documents/abc {
  # 比上面的字符串更长
  [ configuration D ]
}

location ^~ /documents/ {
  # 如果此location是最长匹配前缀location, 则不检查正则location.
  [ configuration E ]
}

location ~ /documents/ {
  # 分大小写的正则匹配
  # 执行到正则location, 如果命中，则停止匹配，应用此条配置
  [ configuration F ]
}

location ~* \.(gif|jpg|jpeg|png)$ {
  # 不区分大小写的正则匹配
  # 匹配以gif jpg jpeg png结尾的地址
  [ configuration F ]
}


```

按照上面的匹配规则，有以下示例




关于斜杠

test for conf

{% highlight conf %}

location = / {

  # 精确匹配 /，匹配到就停止

  [ configuration A ]
}
{% endhighlight %}

{% highlight ruby %}
def print_hi(name)
  puts "Hi, #{name}"
end
print_hi('Tom')
#=> prints 'Hi, Tom' to STDOUT.
Syntax: 
{% endhighlight %}

[jekyll-docs]: http://jekyllrb.com/docs/home

可能遇到的问题文件夹无权限
